# 画像類似検索システム
注）当プログラムのはコードの整理及び保守性向上にAIが使用されていますが、システム自体は開発者自身が作成しており、動作確認済みです
## 概要
Google Colab 上で **CLIP**（画像・テキストを横断して特徴量化するモデル）と **FAISS**（高速ベクトル検索ライブラリ）を組み合わせ、Google Drive に保存した画像コレクションを対象に「似ている画像」を検索できるシステムです。ColabのGPUがライブラリに対応していなかったためCPU だけで演算していますが、一万枚程度の画像であれば実用的な応答速度が得られます。参考として、２万件の衣装特許データを検索元データとして使用した場合、ベクトル化に訳一時間、検索は１件当たり１秒以下で応答しました。

## 使い方 (Colabのコメントアウトにも指示を記載しています)
1. **画像を配置**: Google Drive 内に `datasets/images/` というフォルダを作り、images.zipを解凍したフォルダを格納します。(ファイルの階層構造は自由です。より性能の高いシステムを利用したい場合はimages_full.zipの画像データを使用してください）
2. **ノートブックを開く**: `clip_faiss_colab.ipynb` を Colab で開きます。
3. **パスを設定**: セル③で `IMAGES_PATH`（画像フォルダ）と `INDEX_PATH`（インデックス保存先）を自分の Drive のパスに合わせます。(よくわからない場合は、GoogleDriveにfaiss_indexesという名前のフォルダを作成してください)
4. **セルを上から順に実行**: 初回はインデックスが自動生成され、次回以降は読み込まれます。
5. **検索する**:
   * 画像検索 — 最終セルでクエリ変数に画像ファイルのパスを入力。(よくわからない場合はtestdata.zipファイルを展開してGoogleDrive内にtestdataというフォルダを作り、そこに格納してください)
   検索結果として類似画像のサムネイルとファイル名が表示されます。

インデックス作成後に画像を追加した場合は、ノートブック上部のセル（Drive マウント〜インデックス作成）を再実行してください。

